6.2.2

octree是一种用于管理稀疏3D数据的树形数据结构，每个内部节点都正好有八个子节点，介绍如何用octree在点云数据中进行空间划分及近邻搜索，实现“体素内近邻搜索（Neighbors within VOxel Search）”,"K近邻搜索（K Nearest Neighbor Search）","半径内近邻搜索"（Neighbors within Radius Search）




Octree类关键点的说明
   PCL octree组件提供了几个octree类型，它们各自的叶节点特征基本上是不同的，

OctreePointCloudVector(等于OctreePointCloud)：该octree能够保存每一个节点上的点索引列。

OctreePointCloudSinglePoint: 该octree类仅仅保存每一个节点上的单个点的索引，仅仅保存最后分配给叶节点的点索引

OctreePointCloudOccupancy: 该octree类不存储它的叶节点上的任何信息，它能用于空间填充情况检查

OctreePointCloudDensity:存储每一个叶节点体素中点的数目，它可以进行空间点集密集程度的查询


6.2.3

无序点云数据集的空间变化检测

octree是一种管理稀疏3D数据的树状结构，利用octree实现多个无序点云之间的空间变化检测，这些点云可能在尺寸。分辨率 密度，和点顺序等方面有所差异，通过递归的比较octree的树结构，可以鉴定出由octree产生的体素组成的区别所代表的空间变化，还要学习关于octree的“双缓冲”技术，以便实时的探测多个点云之间的空间组成的差异。
PCL

（PointCloudLibrary）是在吸收了前人点云相关研究基础上建立起来的大型跨平台开源C++编程库，它实现了大量点云相关的通用算法和高效数据结构，涉及到点云获取、滤波、分割、配准、检索、特征提取、识别、追踪、曲面重建、可视化等。支持多种操作系统平台，可在Windows、Linux、Android、MacOSX、部分嵌入式实时系统上运行。如果说OpenCV是2D信息获取与处理的结晶，那么PCL就在3D信息获取与处理上具有同等地位，PCL是BSD授权方式，可以免费进行商业和学术应用




能计算的技术。笔者相信在近几年内会有更多的人和组织加入到这个项目中来，

共享开源

PCL



PCL的潜在应用领域

PCL能解决什么问题呢？

机器人领域移动机器人对其工作环境的有效感知、辨识与认知，是其进行自主行为优化并可靠完成所承担任务的前提和基础。如何实现场景中物体的有效分类与识别是
移动机器人场景认知的核心问题，目前基于视觉图像处理技术来进行场景的认知是该领域的重要方法。但移动机器人在线获取的视觉图像质量受光线变化影响较大，特别是在光线较暗的场景更难以应用，随着RGBD获取设备的大量推广，在机器人领域势必掀起一股深度信息结合2D信息的应用研究热潮，深度信息的引入能够使机器人更好地对环境进行认知、辨识，与图像信息在机器人领域的应用一样，需要强大智能软件算法支撑，PCL就为此而生，最重要的是PCL本身就是为机器人而发起的开源项目，PCL中不仅提供了对现有的RGBD信息的获取设备的支持，还提供了高效的分割、特征提取、识别、追踪等最新的算法，最重要的是它可以移植到android、ubuntu等主流Linux平台上，PCL无疑将会成为机器人应用领域一把瑞士军刀。

CAD/CAM、逆向工程

大部分工业产品是根据二维或三维CAD模型制造而成，但有时因为数据丢失、设计多次更改、实物引进等原因，产品的几何模型无法获得，因而常常需要根据现有产品实物生成物体几何模型。逆向工程技术能够对产品实物进行测绘，重构产品表面三维几何模型，生成产品制造所需的数字化文档。

在一些工业领域，如汽车制造业，许多零件的几何模型都通过逆向工程由油泥模型或实物零件获得，目前在CAD/CAM领域利用激光点云进行高精度测量与重建成为趋势，同时引来了新的问题，通过获取的海量点云数据，来提取重建模型的几何参数，或者形状模型，对模型进行智能检索，从点云数据获取模型的曲面模型等，诸如此类
的问题解决方案在PCL中都有涉及。
例如kdtree和octree对海量点云进行高效压缩存储与管理，其中滤波、配准、特征描述与提前基础处理，可以应用于模型的智能检索，以及后期的曲面重建和可视化都在PCL中有相应的模块。总之，三维点云数据的处理是逆向工程中比较重要的一环，PCL中间所有的模块正是为此而生的。

激光遥感测量

能够直接获取高精度三维地面点数据，是对传统测量技术在高程数据获取及自动化快速处理方面的重要技术补充。激光遥感测量系统在地形测绘、环境检测、三维城市建模、地球科学、行星科学等诸多领域具有广泛的发展前景，是目前最先进的能实时获取地形表面三维空间信息和影像的遥感系统。目前，在各种提取地面点的算法中，算法结果与世界结果之间差别较大，违背了实际情况，PCL中强大的模块可以助力此处的各种需求。

虚拟现实、人机交互虚拟现实技术（简称VR），
又称灵境技术，是以沉浸性、交互性和构想性为基本特征的计算机高级人机界面。它综合利用了计算机图形学、仿真技术、多媒体技术、人工智能技术、计算机网络技术、并行处理技术和多传感器技术，模拟人的视觉、听觉、触觉等感觉器官功能，使人能够沉浸在计算机生成的虚拟境界中，并能够通过语言、手势等自然的方式与之进行实时交互，创建了一种适人化的多维信息空间，具有广阔的应用前景




如图3 PCL架构图所示，对于3D点云处理来说，PCL完全是一个的模块化的现代C++模板库。其基于以下第三方库：Boost、Eigen、FLANN、VTK、CUDA、OpenNI、Qhull
，实现点云相关的获取、滤波、分割、配准、检索、特征提取、识别、追踪、曲面重建、可视化等。PCL利用OpenMP、GPU、CUDA等先进高性能计算技术，通过并行化提高程序实时性。K近邻搜索操作的构架是基于FLANN(FastLibraryforApproximateNearestNeighbors)所实现的，速度也是目前技术中最快的。PCL中的所有模块和算法都是通过Boost共享指针来传送数据的，因而避免了多次复制系统中已存在的数据的需要，从0.6版本开始，PCL就已经被移入到Windows，MacOS和Linux系统，并且在Android系统也已经开始投入使用，这使得PCL的应用容易移植与多方发布。
PCL架构图
从算法的角度，PCL是指纳入了多种操作点云数据的三维处理算法，其中包括：过滤，特征估计，表面重建，模型拟合和分割，定位搜索等。每一套算法都是通过基类进行划分的，试图把贯穿整个流水线处理技术的所有常见功能整合在一起，从而保持了整个算法实现过程中的紧凑和结构清晰，提高代码的重用性、简洁可读。在PCL中一个处理管道的基本接口程序是：创建处理对象：（例如过滤、特征估计、分割等）;使用setInputCloud通过输入点云数据，处理模块;设置算法相关参数;调用计算（或过滤、分割等）得到输出。为了进一步简化和开发，PCL被分成一系列较小的代码库，使其模块化，以便能够单独编译使用提高可配置性，特别适用于嵌入式处理中:libpclfilters：如采样、去除离群点、特征提取、拟合估计等数据实现过滤器；libpclfeatures：实现多种三维特征，如曲面法线、曲率、边界点估计、矩不变量、主曲率，PFH和FPFH特征，旋转图像、积分图像，NARF描述子，RIFT，相对标准偏差，数据强度的筛选等等；libpclI/O：实现数据的输入和输出操作，例如点云数据文件（PCD）的读写；libpclsegmentation：实现聚类提取，如通过采样一致性方法对一系列参数模型（如平面、柱面、球面、直线等）进行模型拟合点云分割提取，提取多边形棱镜内部点云等等；libpclsurface：实现表面重建技术，如网格重建、凸包重建、移动最小二乘法平滑等；libpclregister：实现点云配准方法，如ICP等；libpclkeypoints：实现不同的关键点的提取方法，这可以用来作为预处理步骤，决定在哪儿提取特征描述符；
libpclrange：实现支持不同点云数据集生成的范围图像。为了保证PCL中操作的正确性，上述提到的库中的方法和类包含了单位和回归测试。这套单元测试通常都是由专门的构建部门按需求编译和验证的。当某一部分测试失败时，这些特定部分的各自作者就会立即被告知。这彻底地保证了代码测试过程出现的任何变故，以及新功能或修改都不会破坏PCL中已经存在的



















